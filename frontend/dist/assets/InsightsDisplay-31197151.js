import{j as e}from"./ui-580b099c.js";import{r as s}from"./vendor-79b9f383.js";import{C as a,A as i,p as l,a as t,b as d,L as r,D as n}from"./charts-7dda3064.js";a.register(i,l,t,d,r);const c=(e,s=1)=>null==e?"N/A":`${(100*e).toFixed(s)}%`,m=s.memo(({insights:s,isLoading:a=!1})=>{if(!s&&!a)return null;const i=s?.predictions,l=s?.xg_analysis,t=s?.value_analysis,d=s?.risk_assessment,r=t?.bets??[],m=s?.matchup?.split(" vs ")??[],x=m[0]??"Home Team",o=m[1]??"Away Team",h=i?{labels:["Home Win","Draw","Away Win"],datasets:[{data:[i.home_win_prob,i.draw_prob,i.away_win_prob],backgroundColor:["rgba(79, 70, 229, 0.8)","rgba(139, 92, 246, 0.8)","rgba(34, 197, 94, 0.8)"],borderColor:["rgba(79, 70, 229, 1)","rgba(139, 92, 246, 1)","rgba(34, 197, 94, 1)"],borderWidth:2}]}:null,j=i?`${(100*i.confidence).toFixed(1)}%`:"N/A";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"glass-card p-6",children:e.jsx("div",{className:"text-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"shimmer h-6 w-48 mx-auto mb-2 rounded"}),e.jsx("div",{className:"shimmer h-4 w-32 mx-auto mb-4 rounded"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[e.jsx("div",{className:"shimmer h-5 w-32 rounded"}),e.jsx("div",{className:"shimmer h-6 w-16 rounded"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-h2 mb-2",children:s?.matchup}),e.jsx("p",{className:"text-body text-gray-400",children:s?.league}),i&&e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4",children:[e.jsxs("span",{className:"text-2xl font-bold text-indigo-400",children:["Predicted Winner: ",i.prediction.replace("_"," ")]}),e.jsxs("span",{className:"text-sm bg-indigo-500/20 px-3 py-1 rounded-full",children:["Confidence: ",j]})]}),l&&e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-400",children:[x," xG:"]}),e.jsx("span",{className:"ml-2 text-indigo-400 font-semibold",children:l.home_xg.toFixed(2)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-400",children:[o," xG:"]}),e.jsx("span",{className:"ml-2 text-green-400 font-semibold",children:l.away_xg.toFixed(2)})]})]})]})})}),e.jsx("div",{className:"glass-card p-6",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"shimmer h-6 w-40 mx-auto mb-6 rounded"}),e.jsx("div",{className:"shimmer h-80 w-full rounded-xl"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-h3 mb-6 text-center",children:"Win Probabilities"}),e.jsx("div",{className:"h-80",children:h?e.jsx(n,{data:h,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgba(255, 255, 255, 0.8)"}}}}}):e.jsx("div",{className:"text-center text-sm text-slate-400",children:"Prediction data unavailable"})}),e.jsx("div",{className:"mt-4 text-center text-sm text-slate-300",children:"Based on ensemble ML model trained on historical match data"})]})}),e.jsxs("div",{className:"glass-card p-6 border border-indigo-500/20",children:[e.jsxs("h3",{className:"text-h3 mb-6 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Key Takeaways"]}),a?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"shimmer h-4 w-full rounded"}),e.jsx("div",{className:"shimmer h-4 w-3/4 rounded"}),e.jsx("div",{className:"shimmer h-4 w-5/6 rounded"})]}):i&&t?e.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{className:"text-indigo-400",children:i.prediction.replace("_"," ")})," has a"," ",i.confidence>.7?"strong":i.confidence>.6?"moderate":"slight"," edge with"," ",(100*i.confidence).toFixed(0),"% model confidence"]}),e.jsxs("p",{children:["•"," ",r.length>0?`Found ${r.length} value bet${r.length>1?"s":""} with positive expected value`:t.summary||"No clear value opportunities identified in current market"]}),l&&e.jsxs("p",{children:["• Expected Goals: ",x," ",l.home_xg.toFixed(1)," - ",l.away_xg.toFixed(1)," ",o," ","(Total: ",l.total_xg.toFixed(1)," goals)"]}),d&&e.jsxs("p",{children:["• Risk Level: ",e.jsx("span",{className:"low"===d.risk_level?"text-green-400":"medium"===d.risk_level?"text-yellow-400":"text-red-400",children:d.risk_level.toUpperCase()})," - ",d.recommendation]})]}):e.jsx("p",{className:"text-sm text-slate-400",children:"Insights unavailable."})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-h3 mb-6",children:"Value Betting Opportunities"}),a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(s=>e.jsxs("div",{className:"glass-card p-4 border border-green-500/20",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"shimmer h-4 w-20 rounded"}),e.jsx("div",{className:"shimmer h-5 w-12 rounded"})]}),e.jsx("div",{className:"shimmer h-4 w-24 mb-2 rounded"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"shimmer h-4 w-16 rounded"}),e.jsx("div",{className:"shimmer h-5 w-14 rounded"})]})]},s))}):t?r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((s,a)=>e.jsxs("div",{className:"glass-card p-4 border border-green-500/20",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"font-semibold",children:s.bet_type.replace("_"," ")}),e.jsx("span",{className:"text-green-400 font-bold",children:s.market_odds.toFixed(2)})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsxs("p",{className:"text-xs text-gray-400",children:["Model Prob: ",c(s.model_prob)," | Market Prob: ",c(s.market_prob)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Edge: ",c(s.edge,2)," | Value: ",s.value_pct.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm",children:["EV: ",c(s.expected_value)]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["Kelly: ",s.kelly_stake.toFixed(2)]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"text-xs px-2 py-1 rounded "+("Excellent"===s.quality.tier||"Good"===s.quality.tier?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"),children:s.recommendation})})]},a))}):e.jsx("p",{className:"text-gray-400 text-center",children:t.summary||"No clear value bets identified for this matchup."}):e.jsx("p",{className:"text-gray-400 text-center",children:"Value betting data unavailable."})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-h3 mb-6",children:"Monte Carlo Simulation"}),a?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"shimmer h-4 w-full rounded"}),e.jsx("div",{className:"shimmer h-4 w-3/4 rounded"})]}):s?.monte_carlo?e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Based on ",s.monte_carlo.simulations.toLocaleString()," simulations"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(s.monte_carlo.distribution).map(([s,a])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 text-sm capitalize",children:s.replace("_"," ")}),e.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:100*a+"%"}})}),e.jsx("div",{className:"w-16 text-right text-sm font-semibold",children:c(a,1)})]},s))}),s.scenarios&&s.scenarios.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Predicted Scenarios"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:s.scenarios.map((s,a)=>e.jsxs("div",{className:"glass-card p-3 border border-indigo-500/20",children:[e.jsx("div",{className:"text-sm font-semibold mb-1",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Probability: ",c(s.probability)]}),e.jsxs("div",{className:"text-center text-lg font-bold text-indigo-400",children:[s.home_score," - ",s.away_score]}),e.jsx("div",{className:"text-xs text-center text-gray-400 mt-1 capitalize",children:s.result.replace("_"," ")})]},a))})]})]}):e.jsx("p",{className:"text-sm text-slate-400",children:"Simulation data unavailable."})]}),s?.narrative&&e.jsxs("div",{className:"glass-card p-6 border border-purple-500/20",children:[e.jsxs("h3",{className:"text-h3 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Analysis Summary"]}),e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.narrative})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h3",{className:"text-h3 mb-6",children:"Risk Assessment & Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Risk Analysis"}),a?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"shimmer h-4 w-24 rounded"}),e.jsx("div",{className:"shimmer h-4 w-32 rounded"})]}):d?e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Risk Level"}),e.jsx("span",{className:"font-bold "+("low"===d.risk_level?"text-green-400":"medium"===d.risk_level?"text-yellow-400":"text-red-400"),children:d.risk_level.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Confidence Score"}),e.jsx("span",{children:c(d.confidence_score)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Value Available"}),e.jsx("span",{className:d.value_available?"text-green-400":"text-red-400",children:d.value_available?"Yes":"No"})]}),e.jsxs("div",{className:"mt-3 p-3 bg-indigo-500/10 rounded border border-indigo-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Recommendation"}),e.jsx("div",{className:"font-semibold",children:d.recommendation})]})]}):null]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Match Details"}),a?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"shimmer h-4 w-28 rounded"}),e.jsx("div",{className:"shimmer h-4 w-40 rounded"})]}):s?e.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Home Team"}),e.jsx("span",{className:"text-indigo-400",children:s.metadata.home_team})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Away Team"}),e.jsx("span",{className:"text-green-400",children:s.metadata.away_team})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"League"}),e.jsx("span",{children:s.league})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Confidence Level"}),e.jsx("span",{children:c(s.confidence_level)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Generated"}),e.jsx("span",{className:"text-gray-400",children:new Date(s.generated_at).toLocaleString()})]})]}):null]})]})]})]})});export{m as default};
