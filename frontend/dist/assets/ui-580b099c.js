var t,e,s,i,r,n,a,o,u,l,c,h,d,f,p,y,m,v,g,b,w,O,S,k,F,_,A,x,D,M,C,E,R,V,P,q,T,W,j,U,Q,L,I,K,N,H,B,G,$,z,J,Y,X,Z,tt,et,st,it,rt,nt,at,ot,ut,lt,ct,ht,dt,ft,pt,yt,mt,vt,gt,bt,wt,Ot,St,kt,Ft,_t=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)},At=(t,e,s)=>(_t(t,e,"read from private field"),s?s.call(t):e.get(t)),xt=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},Dt=(t,e,s,i)=>(_t(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),Mt=(t,e,s,i)=>({set _(i){Dt(t,e,i,s)},get _(){return At(t,e,i)}}),Ct=(t,e,s)=>(_t(t,e,"access private method"),s);import{r as Et,R as Rt}from"./vendor-79b9f383.js";var Vt={exports:{}},Pt={},qt=Et,Tt=Symbol.for("react.element"),Wt=Symbol.for("react.fragment"),jt=Object.prototype.hasOwnProperty,Ut=qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qt={key:!0,ref:!0,__self:!0,__source:!0};function Lt(t,e,s){var i,r={},n=null,a=null;for(i in void 0!==s&&(n=""+s),void 0!==e.key&&(n=""+e.key),void 0!==e.ref&&(a=e.ref),e)jt.call(e,i)&&!Qt.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:Tt,type:t,key:n,ref:a,props:r,_owner:Ut.current}}Pt.Fragment=Wt,Pt.jsx=Lt,Pt.jsxs=Lt,Vt.exports=Pt;var It=Vt.exports,Kt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ht=new(s=class{constructor(){xt(this,t,Nt),xt(this,e,!1)}setTimeoutProvider(e){Dt(this,t,e)}setTimeout(e,s){return At(this,t).setTimeout(e,s)}clearTimeout(e){At(this,t).clearTimeout(e)}setInterval(e,s){return At(this,t).setInterval(e,s)}clearInterval(e){At(this,t).clearInterval(e)}},t=new WeakMap,e=new WeakMap,s);var Bt="undefined"==typeof window||"Deno"in globalThis;function Gt(){}function $t(t){return"number"==typeof t&&t>=0&&t!==1/0}function zt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jt(t,e){return"function"==typeof t?t(e):t}function Yt(t,e){return"function"==typeof t?t(e):t}function Xt(t,e){const{type:s="all",exact:i,fetchStatus:r,predicate:n,queryKey:a,stale:o}=t;if(a)if(i){if(e.queryHash!==te(a,e.options))return!1}else if(!se(e.queryKey,a))return!1;if("all"!==s){const t=e.isActive();if("active"===s&&!t)return!1;if("inactive"===s&&t)return!1}return("boolean"!=typeof o||e.isStale()===o)&&((!r||r===e.state.fetchStatus)&&!(n&&!n(e)))}function Zt(t,e){const{exact:s,status:i,predicate:r,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(s){if(ee(e.options.mutationKey)!==ee(n))return!1}else if(!se(e.options.mutationKey,n))return!1}return(!i||e.state.status===i)&&!(r&&!r(e))}function te(t,e){return(e?.queryKeyHashFn||ee)(t)}function ee(t){return JSON.stringify(t,(t,e)=>oe(e)?Object.keys(e).sort().reduce((t,s)=>(t[s]=e[s],t),{}):e)}function se(t,e){return t===e||typeof t==typeof e&&(!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&Object.keys(e).every(s=>se(t[s],e[s])))}var ie=Object.prototype.hasOwnProperty;function re(t,e){if(t===e)return t;const s=ae(t)&&ae(e);if(!(s||oe(t)&&oe(e)))return e;const i=(s?t:Object.keys(t)).length,r=s?e:Object.keys(e),n=r.length,a=s?new Array(n):{};let o=0;for(let u=0;u<n;u++){const n=s?u:r[u],l=t[n],c=e[n];if(l===c){a[n]=l,(s?u<i:ie.call(t,n))&&o++;continue}if(null===l||null===c||"object"!=typeof l||"object"!=typeof c){a[n]=c;continue}const h=re(l,c);a[n]=h,h===l&&o++}return i===n&&o===i?t:a}function ne(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function ae(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function oe(t){if(!ue(t))return!1;const e=t.constructor;if(void 0===e)return!0;const s=e.prototype;return!!ue(s)&&(!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype)}function ue(t){return"[object Object]"===Object.prototype.toString.call(t)}function le(t,e,s){return"function"==typeof s.structuralSharing?s.structuralSharing(t,e):!1!==s.structuralSharing?re(t,e):e}function ce(t,e,s=0){const i=[...t,e];return s&&i.length>s?i.slice(1):i}function he(t,e,s=0){const i=[e,...t];return s&&i.length>s?i.slice(0,-1):i}var de=Symbol();function fe(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==de?t.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`))}var pe=new(a=class extends Kt{constructor(){super(),xt(this,i,void 0),xt(this,r,void 0),xt(this,n,void 0),Dt(this,n,t=>{if(!Bt&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){At(this,r)||this.setEventListener(At(this,n))}onUnsubscribe(){var t;this.hasListeners()||(null==(t=At(this,r))||t.call(this),Dt(this,r,void 0))}setEventListener(t){var e;Dt(this,n,t),null==(e=At(this,r))||e.call(this),Dt(this,r,t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){At(this,i)!==t&&(Dt(this,i,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof At(this,i)?At(this,i):"hidden"!==globalThis.document?.visibilityState}},i=new WeakMap,r=new WeakMap,n=new WeakMap,a);function ye(){let t,e;const s=new Promise((s,i)=>{t=s,e=i});function i(t){Object.assign(s,t),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=e=>{i({status:"fulfilled",value:e}),t(e)},s.reject=t=>{i({status:"rejected",reason:t}),e(t)},s}var me=function(t){setTimeout(t,0)};var ve=function(){let t=[],e=0,s=t=>{t()},i=t=>{t()},r=me;const n=i=>{e?t.push(i):r(()=>{s(i)})};return{batch:n=>{let a;e++;try{a=n()}finally{e--,e||(()=>{const e=t;t=[],e.length&&r(()=>{i(()=>{e.forEach(t=>{s(t)})})})})()}return a},batchCalls:t=>(...e)=>{n(()=>{t(...e)})},schedule:n,setNotifyFunction:t=>{s=t},setBatchNotifyFunction:t=>{i=t},setScheduler:t=>{r=t}}}(),ge=new(c=class extends Kt{constructor(){super(),xt(this,o,!0),xt(this,u,void 0),xt(this,l,void 0),Dt(this,l,t=>{if(!Bt&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}})}onSubscribe(){At(this,u)||this.setEventListener(At(this,l))}onUnsubscribe(){var t;this.hasListeners()||(null==(t=At(this,u))||t.call(this),Dt(this,u,void 0))}setEventListener(t){var e;Dt(this,l,t),null==(e=At(this,u))||e.call(this),Dt(this,u,t(this.setOnline.bind(this)))}setOnline(t){At(this,o)!==t&&(Dt(this,o,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return At(this,o)}},o=new WeakMap,u=new WeakMap,l=new WeakMap,c);function be(t){return Math.min(1e3*2**t,3e4)}function we(t){return"online"!==(t??"online")||ge.isOnline()}var Oe=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Se(t){let e,s=!1,i=0;const r=ye(),n=()=>"pending"!==r.status,a=()=>pe.isFocused()&&("always"===t.networkMode||ge.isOnline())&&t.canRun(),o=()=>we(t.networkMode)&&t.canRun(),u=t=>{n()||(e?.(),r.resolve(t))},l=t=>{n()||(e?.(),r.reject(t))},c=()=>new Promise(s=>{e=t=>{(n()||a())&&s(t)},t.onPause?.()}).then(()=>{e=void 0,n()||t.onContinue?.()}),h=()=>{if(n())return;let e;const r=0===i?t.initialPromise:void 0;try{e=r??t.fn()}catch(o){e=Promise.reject(o)}Promise.resolve(e).then(u).catch(e=>{if(n())return;const r=t.retry??(Bt?0:3),o=t.retryDelay??be,u="function"==typeof o?o(i,e):o,d=!0===r||"number"==typeof r&&i<r||"function"==typeof r&&r(i,e);var f;!s&&d?(i++,t.onFail?.(i,e),(f=u,new Promise(t=>{Ht.setTimeout(t,f)})).then(()=>a()?void 0:c()).then(()=>{s?l(e):h()})):l(e)})};return{promise:r,status:()=>r.status,cancel:e=>{if(!n()){const s=new Oe(e);l(s),t.onCancel?.(s)}},continue:()=>(e?.(),r),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:o,start:()=>(o()?h():c().then(h),r)}}var ke=(d=class{constructor(){xt(this,h,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$t(this.gcTime)&&Dt(this,h,Ht.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bt?1/0:3e5))}clearGcTimeout(){At(this,h)&&(Ht.clearTimeout(At(this,h)),Dt(this,h,void 0))}},h=new WeakMap,d),Fe=(S=class extends ke{constructor(t){super(),xt(this,w),xt(this,f,void 0),xt(this,p,void 0),xt(this,y,void 0),xt(this,m,void 0),xt(this,v,void 0),xt(this,g,void 0),xt(this,b,void 0),Dt(this,b,!1),Dt(this,g,t.defaultOptions),this.setOptions(t.options),this.observers=[],Dt(this,m,t.client),Dt(this,y,At(this,m).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Dt(this,f,Ae(this.options)),this.state=t.state??At(this,f),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return At(this,v)?.promise}setOptions(t){if(this.options={...At(this,g),...t},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const t=Ae(this.options);void 0!==t.data&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),Dt(this,f,t))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||At(this,y).remove(this)}setData(t,e){const s=le(this.state.data,t,this.options);return Ct(this,w,O).call(this,{data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){Ct(this,w,O).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){const e=At(this,v)?.promise;return At(this,v)?.cancel(t),e?e.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(At(this,f))}isActive(){return this.observers.some(t=>!1!==Yt(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===de||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(t=>"static"===Jt(t.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(t=0){return void 0===this.state.data||"static"!==t&&(!!this.state.isInvalidated||!zt(this.state.dataUpdatedAt,t))}onFocus(){const t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),At(this,v)?.continue()}onOnline(){const t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),At(this,v)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),At(this,y).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(At(this,v)&&(At(this,b)?At(this,v).cancel({revert:!0}):At(this,v).cancelRetry()),this.scheduleGc()),At(this,y).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ct(this,w,O).call(this,{type:"invalidate"})}async fetch(t,e){if("idle"!==this.state.fetchStatus&&"rejected"!==At(this,v)?.status())if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(At(this,v))return At(this,v).continueRetry(),At(this,v).promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}const s=new AbortController,i=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(Dt(this,b,!0),s.signal)})},r=()=>{const t=fe(this.options,e),s=(()=>{const t={client:At(this,m),queryKey:this.queryKey,meta:this.meta};return i(t),t})();return Dt(this,b,!1),this.options.persister?this.options.persister(t,s,this):t(s)},n=(()=>{const t={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:At(this,m),state:this.state,fetchFn:r};return i(t),t})();this.options.behavior?.onFetch(n,this),Dt(this,p,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===n.fetchOptions?.meta||Ct(this,w,O).call(this,{type:"fetch",meta:n.fetchOptions?.meta}),Dt(this,v,Se({initialPromise:e?.initialPromise,fn:n.fetchFn,onCancel:t=>{t instanceof Oe&&t.revert&&this.setState({...At(this,p),fetchStatus:"idle"}),s.abort()},onFail:(t,e)=>{Ct(this,w,O).call(this,{type:"failed",failureCount:t,error:e})},onPause:()=>{Ct(this,w,O).call(this,{type:"pause"})},onContinue:()=>{Ct(this,w,O).call(this,{type:"continue"})},retry:n.options.retry,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode,canRun:()=>!0}));try{const t=await At(this,v).start();if(void 0===t)throw new Error(`${this.queryHash} data is undefined`);return this.setData(t),At(this,y).config.onSuccess?.(t,this),At(this,y).config.onSettled?.(t,this.state.error,this),t}catch(a){if(a instanceof Oe){if(a.silent)return At(this,v).promise;if(a.revert){if(void 0===this.state.data)throw a;return this.state.data}}throw Ct(this,w,O).call(this,{type:"error",error:a}),At(this,y).config.onError?.(a,this),At(this,y).config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}},f=new WeakMap,p=new WeakMap,y=new WeakMap,m=new WeakMap,v=new WeakMap,g=new WeakMap,b=new WeakMap,w=new WeakSet,O=function(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,..._e(e.data,this.options),fetchMeta:t.meta??null};case"success":const s={...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Dt(this,p,t.manual?s:void 0),s;case"error":const i=t.error;return{...e,error:i,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),ve.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),At(this,y).notify({query:this,type:"updated",action:t})})},S);function _e(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:we(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}function Ae(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,s=void 0!==e,i=s?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var xe=(st=class extends Kt{constructor(t,e){super(),xt(this,j),xt(this,Q),xt(this,I),xt(this,N),xt(this,B),xt(this,$),xt(this,J),xt(this,X),xt(this,tt),xt(this,k,void 0),xt(this,F,void 0),xt(this,_,void 0),xt(this,A,void 0),xt(this,x,void 0),xt(this,D,void 0),xt(this,M,void 0),xt(this,C,void 0),xt(this,E,void 0),xt(this,R,void 0),xt(this,V,void 0),xt(this,P,void 0),xt(this,q,void 0),xt(this,T,void 0),xt(this,W,new Set),this.options=e,Dt(this,k,t),Dt(this,C,null),Dt(this,M,ye()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(At(this,F).addObserver(this),De(At(this,F),this.options)?Ct(this,j,U).call(this):this.updateResult(),Ct(this,B,G).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Me(At(this,F),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Me(At(this,F),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ct(this,$,z).call(this),Ct(this,J,Y).call(this),At(this,F).removeObserver(this)}setOptions(t){const e=this.options,s=At(this,F);if(this.options=At(this,k).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Yt(this.options.enabled,At(this,F)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ct(this,X,Z).call(this),At(this,F).setOptions(this.options),e._defaulted&&!ne(this.options,e)&&At(this,k).getQueryCache().notify({type:"observerOptionsUpdated",query:At(this,F),observer:this});const i=this.hasListeners();i&&Ce(At(this,F),s,this.options,e)&&Ct(this,j,U).call(this),this.updateResult(),!i||At(this,F)===s&&Yt(this.options.enabled,At(this,F))===Yt(e.enabled,At(this,F))&&Jt(this.options.staleTime,At(this,F))===Jt(e.staleTime,At(this,F))||Ct(this,Q,L).call(this);const r=Ct(this,I,K).call(this);!i||At(this,F)===s&&Yt(this.options.enabled,At(this,F))===Yt(e.enabled,At(this,F))&&r===At(this,T)||Ct(this,N,H).call(this,r)}getOptimisticResult(t){const e=At(this,k).getQueryCache().build(At(this,k),t),s=this.createResult(e,t);return function(t,e){if(!ne(t.getCurrentResult(),e))return!0;return!1}(this,s)&&(Dt(this,A,s),Dt(this,D,this.options),Dt(this,x,At(this,F).state)),s}getCurrentResult(){return At(this,A)}trackResult(t,e){return new Proxy(t,{get:(t,s)=>(this.trackProp(s),e?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==At(this,M).status||At(this,M).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,s))})}trackProp(t){At(this,W).add(t)}getCurrentQuery(){return At(this,F)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=At(this,k).defaultQueryOptions(t),s=At(this,k).getQueryCache().build(At(this,k),e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return Ct(this,j,U).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),At(this,A)))}createResult(t,e){const s=At(this,F),i=this.options,r=At(this,A),n=At(this,x),a=At(this,D),o=t!==s?t.state:At(this,_),{state:u}=t;let l,c={...u},h=!1;if(e._optimisticResults){const r=this.hasListeners(),n=!r&&De(t,e),a=r&&Ce(t,s,e,i);(n||a)&&(c={...c,..._e(u.data,t.options)}),"isRestoring"===e._optimisticResults&&(c.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:p}=c;l=c.data;let y=!1;if(void 0!==e.placeholderData&&void 0===l&&"pending"===p){let t;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(t=r.data,y=!0):t="function"==typeof e.placeholderData?e.placeholderData(At(this,V)?.state.data,At(this,V)):e.placeholderData,void 0!==t&&(p="success",l=le(r?.data,t,e),h=!0)}if(e.select&&void 0!==l&&!y)if(r&&l===n?.data&&e.select===At(this,E))l=At(this,R);else try{Dt(this,E,e.select),l=e.select(l),l=le(r?.data,l,e),Dt(this,R,l),Dt(this,C,null)}catch(S){Dt(this,C,S)}At(this,C)&&(d=At(this,C),l=At(this,R),f=Date.now(),p="error");const m="fetching"===c.fetchStatus,v="pending"===p,g="error"===p,b=v&&m,w=void 0!==l,O={status:p,fetchStatus:c.fetchStatus,isPending:v,isSuccess:"success"===p,isError:g,isInitialLoading:b,isLoading:b,data:l,dataUpdatedAt:c.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>o.dataUpdateCount||c.errorUpdateCount>o.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:g&&!w,isPaused:"paused"===c.fetchStatus,isPlaceholderData:h,isRefetchError:g&&w,isStale:Ee(t,e),refetch:this.refetch,promise:At(this,M),isEnabled:!1!==Yt(e.enabled,t)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===O.status?t.reject(O.error):void 0!==O.data&&t.resolve(O.data)},i=()=>{const t=Dt(this,M,O.promise=ye());e(t)},r=At(this,M);switch(r.status){case"pending":t.queryHash===s.queryHash&&e(r);break;case"fulfilled":"error"!==O.status&&O.data===r.value||i();break;case"rejected":"error"===O.status&&O.error===r.reason||i()}}return O}updateResult(){const t=At(this,A),e=this.createResult(At(this,F),this.options);if(Dt(this,x,At(this,F).state),Dt(this,D,this.options),void 0!==At(this,x).data&&Dt(this,V,At(this,F)),ne(e,t))return;Dt(this,A,e);Ct(this,tt,et).call(this,{listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!At(this,W).size)return!0;const i=new Set(s??At(this,W));return this.options.throwOnError&&i.add("error"),Object.keys(At(this,A)).some(e=>{const s=e;return At(this,A)[s]!==t[s]&&i.has(s)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ct(this,B,G).call(this)}},k=new WeakMap,F=new WeakMap,_=new WeakMap,A=new WeakMap,x=new WeakMap,D=new WeakMap,M=new WeakMap,C=new WeakMap,E=new WeakMap,R=new WeakMap,V=new WeakMap,P=new WeakMap,q=new WeakMap,T=new WeakMap,W=new WeakMap,j=new WeakSet,U=function(t){Ct(this,X,Z).call(this);let e=At(this,F).fetch(this.options,t);return t?.throwOnError||(e=e.catch(Gt)),e},Q=new WeakSet,L=function(){Ct(this,$,z).call(this);const t=Jt(this.options.staleTime,At(this,F));if(Bt||At(this,A).isStale||!$t(t))return;const e=zt(At(this,A).dataUpdatedAt,t)+1;Dt(this,P,Ht.setTimeout(()=>{At(this,A).isStale||this.updateResult()},e))},I=new WeakSet,K=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(At(this,F)):this.options.refetchInterval)??!1},N=new WeakSet,H=function(t){Ct(this,J,Y).call(this),Dt(this,T,t),!Bt&&!1!==Yt(this.options.enabled,At(this,F))&&$t(At(this,T))&&0!==At(this,T)&&Dt(this,q,Ht.setInterval(()=>{(this.options.refetchIntervalInBackground||pe.isFocused())&&Ct(this,j,U).call(this)},At(this,T)))},B=new WeakSet,G=function(){Ct(this,Q,L).call(this),Ct(this,N,H).call(this,Ct(this,I,K).call(this))},$=new WeakSet,z=function(){At(this,P)&&(Ht.clearTimeout(At(this,P)),Dt(this,P,void 0))},J=new WeakSet,Y=function(){At(this,q)&&(Ht.clearInterval(At(this,q)),Dt(this,q,void 0))},X=new WeakSet,Z=function(){const t=At(this,k).getQueryCache().build(At(this,k),this.options);if(t===At(this,F))return;const e=At(this,F);Dt(this,F,t),Dt(this,_,t.state),this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))},tt=new WeakSet,et=function(t){ve.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(At(this,A))}),At(this,k).getQueryCache().notify({query:At(this,F),type:"observerResultsUpdated"})})},st);function De(t,e){return function(t,e){return!1!==Yt(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&Me(t,e,e.refetchOnMount)}function Me(t,e,s){if(!1!==Yt(e.enabled,t)&&"static"!==Jt(e.staleTime,t)){const i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&Ee(t,e)}return!1}function Ce(t,e,s,i){return(t!==e||!1===Yt(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&Ee(t,s)}function Ee(t,e){return!1!==Yt(e.enabled,t)&&t.isStaleByTime(Jt(e.staleTime,t))}function Re(t){return{onFetch:(e,s)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,n=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const l=async()=>{let s=!1;const l=fe(e.options,e.fetchOptions),c=async(t,i,r)=>{if(s)return Promise.reject();if(null==i&&t.pages.length)return Promise.resolve(t);const n=(()=>{const t={client:e.client,queryKey:e.queryKey,pageParam:i,direction:r?"backward":"forward",meta:e.options.meta};var n;return n=t,Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(e.signal.aborted?s=!0:e.signal.addEventListener("abort",()=>{s=!0}),e.signal)}),t})(),a=await l(n),{maxPages:o}=e.options,u=r?he:ce;return{pages:u(t.pages,a,o),pageParams:u(t.pageParams,i,o)}};if(r&&n.length){const t="backward"===r,e={pages:n,pageParams:a},s=(t?Pe:Ve)(i,e);o=await c(e,s,t)}else{const e=t??n.length;do{const t=0===u?a[0]??i.initialPageParam:Ve(i,o);if(u>0&&null==t)break;o=await c(o,t),u++}while(u<e)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=l}}}function Ve(t,{pages:e,pageParams:s}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,s[i],s):void 0}function Pe(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var qe=(lt=class extends ke{constructor(t){super(),xt(this,ot),xt(this,it,void 0),xt(this,rt,void 0),xt(this,nt,void 0),xt(this,at,void 0),Dt(this,it,t.client),this.mutationId=t.mutationId,Dt(this,nt,t.mutationCache),Dt(this,rt,[]),this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){At(this,rt).includes(t)||(At(this,rt).push(t),this.clearGcTimeout(),At(this,nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Dt(this,rt,At(this,rt).filter(e=>e!==t)),this.scheduleGc(),At(this,nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){At(this,rt).length||("pending"===this.state.status?this.scheduleGc():At(this,nt).remove(this))}continue(){return At(this,at)?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{Ct(this,ot,ut).call(this,{type:"continue"})},s={client:At(this,it),meta:this.options.meta,mutationKey:this.options.mutationKey};Dt(this,at,Se({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(t,e)=>{Ct(this,ot,ut).call(this,{type:"failed",failureCount:t,error:e})},onPause:()=>{Ct(this,ot,ut).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>At(this,nt).canRun(this)}));const i="pending"===this.state.status,r=!At(this,at).canStart();try{if(i)e();else{Ct(this,ot,ut).call(this,{type:"pending",variables:t,isPaused:r}),await(At(this,nt).config.onMutate?.(t,this,s));const e=await(this.options.onMutate?.(t,s));e!==this.state.context&&Ct(this,ot,ut).call(this,{type:"pending",context:e,variables:t,isPaused:r})}const n=await At(this,at).start();return await(At(this,nt).config.onSuccess?.(n,t,this.state.context,this,s)),await(this.options.onSuccess?.(n,t,this.state.context,s)),await(At(this,nt).config.onSettled?.(n,null,this.state.variables,this.state.context,this,s)),await(this.options.onSettled?.(n,null,t,this.state.context,s)),Ct(this,ot,ut).call(this,{type:"success",data:n}),n}catch(n){try{throw await(At(this,nt).config.onError?.(n,t,this.state.context,this,s)),await(this.options.onError?.(n,t,this.state.context,s)),await(At(this,nt).config.onSettled?.(void 0,n,this.state.variables,this.state.context,this,s)),await(this.options.onSettled?.(void 0,n,t,this.state.context,s)),n}finally{Ct(this,ot,ut).call(this,{type:"error",error:n})}}finally{At(this,nt).runNext(this)}}},it=new WeakMap,rt=new WeakMap,nt=new WeakMap,at=new WeakMap,ot=new WeakSet,ut=function(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),ve.batch(()=>{At(this,rt).forEach(e=>{e.onMutationUpdate(t)}),At(this,nt).notify({mutation:this,type:"updated",action:t})})},lt);var Te=(ft=class extends Kt{constructor(t={}){super(),xt(this,ct,void 0),xt(this,ht,void 0),xt(this,dt,void 0),this.config=t,Dt(this,ct,new Set),Dt(this,ht,new Map),Dt(this,dt,0)}build(t,e,s){const i=new qe({client:t,mutationCache:this,mutationId:++Mt(this,dt)._,options:t.defaultMutationOptions(e),state:s});return this.add(i),i}add(t){At(this,ct).add(t);const e=We(t);if("string"==typeof e){const s=At(this,ht).get(e);s?s.push(t):At(this,ht).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(At(this,ct).delete(t)){const e=We(t);if("string"==typeof e){const s=At(this,ht).get(e);if(s)if(s.length>1){const e=s.indexOf(t);-1!==e&&s.splice(e,1)}else s[0]===t&&At(this,ht).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=We(t);if("string"==typeof e){const s=At(this,ht).get(e),i=s?.find(t=>"pending"===t.state.status);return!i||i===t}return!0}runNext(t){const e=We(t);if("string"==typeof e){const s=At(this,ht).get(e)?.find(e=>e!==t&&e.state.isPaused);return s?.continue()??Promise.resolve()}return Promise.resolve()}clear(){ve.batch(()=>{At(this,ct).forEach(t=>{this.notify({type:"removed",mutation:t})}),At(this,ct).clear(),At(this,ht).clear()})}getAll(){return Array.from(At(this,ct))}find(t){const e={exact:!0,...t};return this.getAll().find(t=>Zt(e,t))}findAll(t={}){return this.getAll().filter(e=>Zt(t,e))}notify(t){ve.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(t=>t.state.isPaused);return ve.batch(()=>Promise.all(t.map(t=>t.continue().catch(Gt))))}},ct=new WeakMap,ht=new WeakMap,dt=new WeakMap,ft);function We(t){return t.options.scope?.id}var je=(yt=class extends Kt{constructor(t={}){super(),xt(this,pt,void 0),this.config=t,Dt(this,pt,new Map)}build(t,e,s){const i=e.queryKey,r=e.queryHash??te(i,e);let n=this.get(r);return n||(n=new Fe({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(n)),n}add(t){At(this,pt).has(t.queryHash)||(At(this,pt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=At(this,pt).get(t.queryHash);e&&(t.destroy(),e===t&&At(this,pt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ve.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return At(this,pt).get(t)}getAll(){return[...At(this,pt).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(t=>Xt(e,t))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(e=>Xt(t,e)):e}notify(t){ve.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ve.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ve.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pt=new WeakMap,yt),Ue=(Ft=class{constructor(t={}){xt(this,mt,void 0),xt(this,vt,void 0),xt(this,gt,void 0),xt(this,bt,void 0),xt(this,wt,void 0),xt(this,Ot,void 0),xt(this,St,void 0),xt(this,kt,void 0),Dt(this,mt,t.queryCache||new je),Dt(this,vt,t.mutationCache||new Te),Dt(this,gt,t.defaultOptions||{}),Dt(this,bt,new Map),Dt(this,wt,new Map),Dt(this,Ot,0)}mount(){Mt(this,Ot)._++,1===At(this,Ot)&&(Dt(this,St,pe.subscribe(async t=>{t&&(await this.resumePausedMutations(),At(this,mt).onFocus())})),Dt(this,kt,ge.subscribe(async t=>{t&&(await this.resumePausedMutations(),At(this,mt).onOnline())})))}unmount(){var t,e;Mt(this,Ot)._--,0===At(this,Ot)&&(null==(t=At(this,St))||t.call(this),Dt(this,St,void 0),null==(e=At(this,kt))||e.call(this),Dt(this,kt,void 0))}isFetching(t){return At(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return At(this,vt).findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return At(this,mt).get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=At(this,mt).build(this,e),i=s.state.data;return void 0===i?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Jt(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return At(this,mt).findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,s){const i=this.defaultQueryOptions({queryKey:t}),r=At(this,mt).get(i.queryHash),n=r?.state.data,a=function(t,e){return"function"==typeof t?t(e):t}(e,n);if(void 0!==a)return At(this,mt).build(this,i).setData(a,{...s,manual:!0})}setQueriesData(t,e,s){return ve.batch(()=>At(this,mt).findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return At(this,mt).get(e.queryHash)?.state}removeQueries(t){const e=At(this,mt);ve.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){const s=At(this,mt);return ve.batch(()=>(s.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},i=ve.batch(()=>At(this,mt).findAll(t).map(t=>t.cancel(s)));return Promise.all(i).then(Gt).catch(Gt)}invalidateQueries(t,e={}){return ve.batch(()=>(At(this,mt).findAll(t).forEach(t=>{t.invalidate()}),"none"===t?.refetchType?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},i=ve.batch(()=>At(this,mt).findAll(t).filter(t=>!t.isDisabled()&&!t.isStatic()).map(t=>{let e=t.fetch(void 0,s);return s.throwOnError||(e=e.catch(Gt)),"paused"===t.state.fetchStatus?Promise.resolve():e}));return Promise.all(i).then(Gt)}fetchQuery(t){const e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);const s=At(this,mt).build(this,e);return s.isStaleByTime(Jt(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gt).catch(Gt)}fetchInfiniteQuery(t){return t.behavior=Re(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gt).catch(Gt)}ensureInfiniteQueryData(t){return t.behavior=Re(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ge.isOnline()?At(this,vt).resumePausedMutations():Promise.resolve()}getQueryCache(){return At(this,mt)}getMutationCache(){return At(this,vt)}getDefaultOptions(){return At(this,gt)}setDefaultOptions(t){Dt(this,gt,t)}setQueryDefaults(t,e){At(this,bt).set(ee(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...At(this,bt).values()],s={};return e.forEach(e=>{se(t,e.queryKey)&&Object.assign(s,e.defaultOptions)}),s}setMutationDefaults(t,e){At(this,wt).set(ee(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...At(this,wt).values()],s={};return e.forEach(e=>{se(t,e.mutationKey)&&Object.assign(s,e.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...At(this,gt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=te(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===de&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...At(this,gt).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){At(this,mt).clear(),At(this,vt).clear()}},mt=new WeakMap,vt=new WeakMap,gt=new WeakMap,bt=new WeakMap,wt=new WeakMap,Ot=new WeakMap,St=new WeakMap,kt=new WeakMap,Ft),Qe=Et.createContext(void 0),Le=({client:t,children:e})=>(Et.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),It.jsx(Qe.Provider,{value:t,children:e})),Ie=Et.createContext(!1);Ie.Provider;var Ke=Et.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}()),Ne=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function He(t,e,s){const i=Et.useContext(Ie),r=Et.useContext(Ke),n=(t=>{const e=Et.useContext(Qe);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e})(s),a=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",(t=>{if(t.suspense){const e=1e3,s=t=>"static"===t?t:Math.max(t??e,e),i=t.staleTime;t.staleTime="function"==typeof i?(...t)=>s(i(...t)):s(i),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,e))}})(a),((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))})(a,r),(t=>{Et.useEffect(()=>{t.clearReset()},[t])})(r);const o=!n.getQueryCache().get(a.queryHash),[u]=Et.useState(()=>new e(n,a)),l=u.getOptimisticResult(a),c=!i&&!1!==t.subscribed;if(Et.useSyncExternalStore(Et.useCallback(t=>{const e=c?u.subscribe(ve.batchCalls(t)):Gt;return u.updateResult(),e},[u,c]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),Et.useEffect(()=>{u.setOptions(a)},[a,u]),((t,e)=>t?.suspense&&e.isPending)(a,l))throw Ne(a,u,r);if((({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&void 0===t.data||function(t,e){return"function"==typeof t?t(...e):!!t}(s,[t.error,i])))({result:l,errorResetBoundary:r,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw l.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(a,l),a.experimental_prefetchInRender&&!Bt&&((t,e)=>t.isLoading&&t.isFetching&&!e)(l,i)){const t=o?Ne(a,u,r):n.getQueryCache().get(a.queryHash)?.promise;t?.catch(Gt).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?l:u.trackResult(l)}function Be(t,e){return He(t,xe,e)}var Ge=t=>"checkbox"===t.type,$e=t=>t instanceof Date,ze=t=>null==t;const Je=t=>"object"==typeof t;var Ye=t=>!ze(t)&&!Array.isArray(t)&&Je(t)&&!$e(t),Xe="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Ze(t){let e;const s=Array.isArray(t),i="undefined"!=typeof FileList&&t instanceof FileList;if(t instanceof Date)e=new Date(t);else{if(Xe&&(t instanceof Blob||i)||!s&&!Ye(t))return t;if(e=s?[]:Object.create(Object.getPrototypeOf(t)),s||(t=>{const e=t.constructor&&t.constructor.prototype;return Ye(e)&&e.hasOwnProperty("isPrototypeOf")})(t))for(const s in t)t.hasOwnProperty(s)&&(e[s]=Ze(t[s]));else e=t}return e}var ts=t=>/^\w*$/.test(t),es=t=>void 0===t,ss=t=>Array.isArray(t)?t.filter(Boolean):[],is=t=>ss(t.replace(/["|']|\]/g,"").split(/\.|\[/)),rs=(t,e,s)=>{if(!e||!Ye(t))return s;const i=(ts(e)?[e]:is(e)).reduce((t,e)=>ze(t)?t:t[e],t);return es(i)||i===t?es(t[e])?s:t[e]:i},ns=t=>"boolean"==typeof t,as=(t,e,s)=>{let i=-1;const r=ts(e)?[e]:is(e),n=r.length,a=n-1;for(;++i<n;){const e=r[i];let n=s;if(i!==a){const s=t[e];n=Ye(s)||Array.isArray(s)?s:isNaN(+r[i+1])?{}:[]}if("__proto__"===e||"constructor"===e||"prototype"===e)return;t[e]=n,t=t[e]}};const os="blur",us="focusout",ls="onBlur",cs="onChange",hs="onSubmit",ds="onTouched",fs="all",ps="max",ys="min",ms="maxLength",vs="minLength",gs="pattern",bs="required",ws="validate";Rt.createContext(null).displayName="HookFormContext";const Os="undefined"!=typeof window?Rt.useLayoutEffect:Rt.useEffect;var Ss=t=>"string"==typeof t,ks=t=>ze(t)||!Je(t);function Fs(t,e,s=new WeakSet){if(ks(t)||ks(e))return t===e;if($e(t)&&$e(e))return t.getTime()===e.getTime();const i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;if(s.has(t)||s.has(e))return!0;s.add(t),s.add(e);for(const n of i){const i=t[n];if(!r.includes(n))return!1;if("ref"!==n){const t=e[n];if($e(i)&&$e(t)||Ye(i)&&Ye(t)||Array.isArray(i)&&Array.isArray(t)?!Fs(i,t,s):i!==t)return!1}}return!0}var _s=(t,e,s,i,r)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[i]:r||!0}}:{},As=t=>Array.isArray(t)?t:[t],xs=()=>{let t=[];return{get observers(){return t},next:e=>{for(const s of t)s.next&&s.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(t=>t!==e)}}),unsubscribe:()=>{t=[]}}};function Ds(t,e){const s={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i],n=e[i];if(r&&Ye(r)&&n){const t=Ds(r,n);Ye(t)&&(s[i]=t)}else t[i]&&(s[i]=n)}return s}var Ms=t=>Ye(t)&&!Object.keys(t).length,Cs=t=>"file"===t.type,Es=t=>"function"==typeof t,Rs=t=>{if(!Xe)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Vs=t=>"select-multiple"===t.type,Ps=t=>"radio"===t.type,qs=t=>Rs(t)&&t.isConnected;function Ts(t,e){const s=Array.isArray(e)?e:ts(e)?[e]:is(e),i=1===s.length?t:function(t,e){const s=e.slice(0,-1).length;let i=0;for(;i<s;)t=es(t)?i++:t[e[i++]];return t}(t,s),r=s.length-1,n=s[r];return i&&delete i[n],0!==r&&(Ye(i)&&Ms(i)||Array.isArray(i)&&function(t){for(const e in t)if(t.hasOwnProperty(e)&&!es(t[e]))return!1;return!0}(i))&&Ts(t,s.slice(0,-1)),t}function Ws(t){return Array.isArray(t)||Ye(t)&&!(t=>{for(const e in t)if(Es(t[e]))return!0;return!1})(t)}function js(t,e={}){for(const s in t)Ws(t[s])?(e[s]=Array.isArray(t[s])?[]:{},js(t[s],e[s])):es(t[s])||(e[s]=!0);return e}function Us(t,e,s){s||(s=js(e));for(const i in t)Ws(t[i])?es(e)||ks(s[i])?s[i]=js(t[i],Array.isArray(t[i])?[]:{}):Us(t[i],ze(e)?{}:e[i],s[i]):s[i]=!Fs(t[i],e[i]);return s}const Qs={value:!1,isValid:!1},Ls={value:!0,isValid:!0};var Is=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!es(t[0].attributes.value)?es(t[0].value)||""===t[0].value?Ls:{value:t[0].value,isValid:!0}:Ls:Qs}return Qs},Ks=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:i})=>es(t)?t:e?""===t?NaN:t?+t:t:s&&Ss(t)?new Date(t):i?i(t):t;const Ns={isValid:!1,value:null};var Hs=t=>Array.isArray(t)?t.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,Ns):Ns;function Bs(t){const e=t.ref;return Cs(e)?e.files:Ps(e)?Hs(t.refs).value:Vs(e)?[...e.selectedOptions].map(({value:t})=>t):Ge(e)?Is(t.refs).value:Ks(es(e.value)?t.ref.value:e.value,t)}var Gs=t=>t instanceof RegExp,$s=t=>es(t)?t:Gs(t)?t.source:Ye(t)?Gs(t.value)?t.value.source:t.value:t,zs=t=>({isOnSubmit:!t||t===hs,isOnBlur:t===ls,isOnChange:t===cs,isOnAll:t===fs,isOnTouch:t===ds});const Js="AsyncFunction";var Ys=t=>!!t&&!!t.validate&&!!(Es(t.validate)&&t.validate.constructor.name===Js||Ye(t.validate)&&Object.values(t.validate).find(t=>t.constructor.name===Js)),Xs=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(e=>t.startsWith(e)&&/^\.\w+/.test(t.slice(e.length))));const Zs=(t,e,s,i)=>{for(const r of s||Object.keys(t)){const s=rs(t,r);if(s){const{_f:t,...n}=s;if(t){if(t.refs&&t.refs[0]&&e(t.refs[0],r)&&!i)return!0;if(t.ref&&e(t.ref,t.name)&&!i)return!0;if(Zs(n,e))break}else if(Ye(n)&&Zs(n,e))break}}};function ti(t,e,s){const i=rs(t,s);if(i||ts(s))return{error:i,name:s};const r=s.split(".");for(;r.length;){const i=r.join("."),n=rs(e,i),a=rs(t,i);if(n&&!Array.isArray(n)&&s!==i)return{name:s};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};r.pop()}return{name:s}}var ei=(t,e,s)=>{const i=As(rs(t,s));return as(i,"root",e[s]),as(t,s,i),t};function si(t,e,s="validate"){if(Ss(t)||Array.isArray(t)&&t.every(Ss)||ns(t)&&!t)return{type:s,message:Ss(t)?t:"",ref:e}}var ii=t=>Ye(t)&&!Gs(t)?t:{value:t,message:""},ri=async(t,e,s,i,r,n)=>{const{ref:a,refs:o,required:u,maxLength:l,minLength:c,min:h,max:d,pattern:f,validate:p,name:y,valueAsNumber:m,mount:v}=t._f,g=rs(s,y);if(!v||e.has(y))return{};const b=o?o[0]:a,w=t=>{r&&b.reportValidity&&(b.setCustomValidity(ns(t)?"":t||""),b.reportValidity())},O={},S=Ps(a),k=Ge(a),F=S||k,_=(m||Cs(a))&&es(a.value)&&es(g)||Rs(a)&&""===a.value||""===g||Array.isArray(g)&&!g.length,A=_s.bind(null,y,i,O),x=(t,e,s,i=ms,r=vs)=>{const n=t?e:s;O[y]={type:t?i:r,message:n,ref:a,...A(t?i:r,n)}};if(n?!Array.isArray(g)||!g.length:u&&(!F&&(_||ze(g))||ns(g)&&!g||k&&!Is(o).isValid||S&&!Hs(o).isValid)){const{value:t,message:e}=Ss(u)?{value:!!u,message:u}:ii(u);if(t&&(O[y]={type:bs,message:e,ref:b,...A(bs,e)},!i))return w(e),O}if(!(_||ze(h)&&ze(d))){let t,e;const s=ii(d),r=ii(h);if(ze(g)||isNaN(g)){const i=a.valueAsDate||new Date(g),n=t=>new Date((new Date).toDateString()+" "+t),o="time"==a.type,u="week"==a.type;Ss(s.value)&&g&&(t=o?n(g)>n(s.value):u?g>s.value:i>new Date(s.value)),Ss(r.value)&&g&&(e=o?n(g)<n(r.value):u?g<r.value:i<new Date(r.value))}else{const i=a.valueAsNumber||(g?+g:g);ze(s.value)||(t=i>s.value),ze(r.value)||(e=i<r.value)}if((t||e)&&(x(!!t,s.message,r.message,ps,ys),!i))return w(O[y].message),O}if((l||c)&&!_&&(Ss(g)||n&&Array.isArray(g))){const t=ii(l),e=ii(c),s=!ze(t.value)&&g.length>+t.value,r=!ze(e.value)&&g.length<+e.value;if((s||r)&&(x(s,t.message,e.message),!i))return w(O[y].message),O}if(f&&!_&&Ss(g)){const{value:t,message:e}=ii(f);if(Gs(t)&&!g.match(t)&&(O[y]={type:gs,message:e,ref:a,...A(gs,e)},!i))return w(e),O}if(p)if(Es(p)){const t=si(await p(g,s),b);if(t&&(O[y]={...t,...A(ws,t.message)},!i))return w(t.message),O}else if(Ye(p)){let t={};for(const e in p){if(!Ms(t)&&!i)break;const r=si(await p[e](g,s),b,e);r&&(t={...r,...A(e,r.message)},w(r.message),i&&(O[y]=t))}if(!Ms(t)&&(O[y]={ref:b,...t},!i))return O}return w(!0),O};const ni={mode:hs,reValidateMode:cs,shouldFocusError:!0};function ai(t={}){let e,s={...ni,...t},i={submitCount:0,isDirty:!1,isReady:!1,isLoading:Es(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},r={},n=(Ye(s.defaultValues)||Ye(s.values))&&Ze(s.defaultValues||s.values)||{},a=s.shouldUnregister?{}:Ze(n),o={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...c};const d={array:xs(),state:xs()},f=s.criteriaMode===fs,p=async t=>{if(!s.disabled&&(c.isValid||h.isValid||t)){const t=s.resolver?Ms((await b()).errors):await w(r,!0);t!==i.isValid&&d.state.next({isValid:t})}},y=(t,e)=>{!s.disabled&&(c.isValidating||c.validatingFields||h.isValidating||h.validatingFields)&&((t||Array.from(u.mount)).forEach(t=>{t&&(e?as(i.validatingFields,t,e):Ts(i.validatingFields,t))}),d.state.next({validatingFields:i.validatingFields,isValidating:!Ms(i.validatingFields)}))},m=(t,e,s,i)=>{const u=rs(r,t);if(u){const r=rs(a,t,es(s)?rs(n,t):s);es(r)||i&&i.defaultChecked||e?as(a,t,e?r:Bs(u._f)):k(t,r),o.mount&&p()}},v=(t,e,r,a,o)=>{let u=!1,l=!1;const f={name:t};if(!s.disabled){if(!r||a){(c.isDirty||h.isDirty)&&(l=i.isDirty,i.isDirty=f.isDirty=O(),u=l!==f.isDirty);const s=Fs(rs(n,t),e);l=!!rs(i.dirtyFields,t),s?Ts(i.dirtyFields,t):as(i.dirtyFields,t,!0),f.dirtyFields=i.dirtyFields,u=u||(c.dirtyFields||h.dirtyFields)&&l!==!s}if(r){const e=rs(i.touchedFields,t);e||(as(i.touchedFields,t,r),f.touchedFields=i.touchedFields,u=u||(c.touchedFields||h.touchedFields)&&e!==r)}u&&o&&d.state.next(f)}return u?f:{}},g=(t,r,n,a)=>{const o=rs(i.errors,t),u=(c.isValid||h.isValid)&&ns(r)&&i.isValid!==r;var f;if(s.delayError&&n?(f=()=>((t,e)=>{as(i.errors,t,e),d.state.next({errors:i.errors})})(t,n),e=t=>{clearTimeout(l),l=setTimeout(f,t)},e(s.delayError)):(clearTimeout(l),e=null,n?as(i.errors,t,n):Ts(i.errors,t)),(n?!Fs(o,n):o)||!Ms(a)||u){const e={...a,...u&&ns(r)?{isValid:r}:{},errors:i.errors,name:t};i={...i,...e},d.state.next(e)}},b=async t=>{y(t,!0);const e=await s.resolver(a,s.context,((t,e,s,i)=>{const r={};for(const n of t){const t=rs(e,n);t&&as(r,n,t._f)}return{criteriaMode:s,names:[...t],fields:r,shouldUseNativeValidation:i}})(t||u.mount,r,s.criteriaMode,s.shouldUseNativeValidation));return y(t),e},w=async(t,e,r={valid:!0})=>{for(const n in t){const o=t[n];if(o){const{_f:t,...n}=o;if(t){const n=u.array.has(t.name),l=o._f&&Ys(o._f);l&&c.validatingFields&&y([t.name],!0);const h=await ri(o,u.disabled,a,f,s.shouldUseNativeValidation&&!e,n);if(l&&c.validatingFields&&y([t.name]),h[t.name]&&(r.valid=!1,e))break;!e&&(rs(h,t.name)?n?ei(i.errors,h,t.name):as(i.errors,t.name,h[t.name]):Ts(i.errors,t.name))}!Ms(n)&&await w(n,e,r)}}return r.valid},O=(t,e)=>!s.disabled&&(t&&e&&as(a,t,e),!Fs(M(),n)),S=(t,e,s)=>((t,e,s,i,r)=>Ss(t)?(i&&e.watch.add(t),rs(s,t,r)):Array.isArray(t)?t.map(t=>(i&&e.watch.add(t),rs(s,t))):(i&&(e.watchAll=!0),s))(t,u,{...o.mount?a:es(e)?n:Ss(t)?{[t]:e}:e},s,e),k=(t,e,s={})=>{const i=rs(r,t);let n=e;if(i){const s=i._f;s&&(!s.disabled&&as(a,t,Ks(e,s)),n=Rs(s.ref)&&ze(e)?"":e,Vs(s.ref)?[...s.ref.options].forEach(t=>t.selected=n.includes(t.value)):s.refs?Ge(s.ref)?s.refs.forEach(t=>{t.defaultChecked&&t.disabled||(Array.isArray(n)?t.checked=!!n.find(e=>e===t.value):t.checked=n===t.value||!!n)}):s.refs.forEach(t=>t.checked=t.value===n):Cs(s.ref)?s.ref.value="":(s.ref.value=n,s.ref.type||d.state.next({name:t,values:Ze(a)})))}(s.shouldDirty||s.shouldTouch)&&v(t,n,s.shouldTouch,s.shouldDirty,!0),s.shouldValidate&&D(t)},F=(t,e,s)=>{for(const i in e){if(!e.hasOwnProperty(i))return;const n=e[i],a=t+"."+i,o=rs(r,a);(u.array.has(t)||Ye(n)||o&&!o._f)&&!$e(n)?F(a,n,s):k(a,n,s)}},_=(t,e,s={})=>{const l=rs(r,t),f=u.array.has(t),p=Ze(e);as(a,t,p),f?(d.array.next({name:t,values:Ze(a)}),(c.isDirty||c.dirtyFields||h.isDirty||h.dirtyFields)&&s.shouldDirty&&d.state.next({name:t,dirtyFields:Us(n,a),isDirty:O(t,p)})):!l||l._f||ze(p)?k(t,p,s):F(t,p,s),Xs(t,u)&&d.state.next({...i,name:t}),d.state.next({name:o.mount?t:void 0,values:Ze(a)})},A=async t=>{o.mount=!0;const n=t.target;let l=n.name,m=!0;const O=rs(r,l),S=t=>{m=Number.isNaN(t)||$e(t)&&isNaN(t.getTime())||Fs(t,rs(a,l,t))},k=zs(s.mode),F=zs(s.reValidateMode);if(O){let o,A;const x=n.type?Bs(O._f):(t=>Ye(t)&&t.target?Ge(t.target)?t.target.checked:t.target.value:t)(t),M=t.type===os||t.type===us,C=!((_=O._f).mount&&(_.required||_.min||_.max||_.maxLength||_.minLength||_.pattern||_.validate)||s.resolver||rs(i.errors,l)||O._f.deps)||((t,e,s,i,r)=>!r.isOnAll&&(!s&&r.isOnTouch?!(e||t):(s?i.isOnBlur:r.isOnBlur)?!t:!(s?i.isOnChange:r.isOnChange)||t))(M,rs(i.touchedFields,l),i.isSubmitted,F,k),E=Xs(l,u,M);as(a,l,x),M?n&&n.readOnly||(O._f.onBlur&&O._f.onBlur(t),e&&e(0)):O._f.onChange&&O._f.onChange(t);const R=v(l,x,M),V=!Ms(R)||E;if(!M&&d.state.next({name:l,type:t.type,values:Ze(a)}),C)return(c.isValid||h.isValid)&&("onBlur"===s.mode?M&&p():M||p()),V&&d.state.next({name:l,...E?{}:R});if(!M&&E&&d.state.next({...i}),s.resolver){const{errors:t}=await b([l]);if(S(x),m){const e=ti(i.errors,r,l),s=ti(t,r,e.name||l);o=s.error,l=s.name,A=Ms(t)}}else y([l],!0),o=(await ri(O,u.disabled,a,f,s.shouldUseNativeValidation))[l],y([l]),S(x),m&&(o?A=!1:(c.isValid||h.isValid)&&(A=await w(r,!0)));m&&(O._f.deps&&(!Array.isArray(O._f.deps)||O._f.deps.length>0)&&D(O._f.deps),g(l,A,o,R))}var _},x=(t,e)=>{if(rs(i.errors,e)&&t.focus)return t.focus(),1},D=async(t,e={})=>{let n,a;const o=As(t);if(s.resolver){const e=await(async t=>{const{errors:e}=await b(t);if(t)for(const s of t){const t=rs(e,s);t?as(i.errors,s,t):Ts(i.errors,s)}else i.errors=e;return e})(es(t)?t:o);n=Ms(e),a=t?!o.some(t=>rs(e,t)):n}else t?(a=(await Promise.all(o.map(async t=>{const e=rs(r,t);return await w(e&&e._f?{[t]:e}:e)}))).every(Boolean),(a||i.isValid)&&p()):a=n=await w(r);return d.state.next({...!Ss(t)||(c.isValid||h.isValid)&&n!==i.isValid?{}:{name:t},...s.resolver||!t?{isValid:n}:{},errors:i.errors}),e.shouldFocus&&!a&&Zs(r,x,t?o:u.mount),a},M=(t,e)=>{let s={...o.mount?a:n};return e&&(s=Ds(e.dirtyFields?i.dirtyFields:i.touchedFields,s)),es(t)?s:Ss(t)?rs(s,t):t.map(t=>rs(s,t))},C=(t,e)=>({invalid:!!rs((e||i).errors,t),isDirty:!!rs((e||i).dirtyFields,t),error:rs((e||i).errors,t),isValidating:!!rs(i.validatingFields,t),isTouched:!!rs((e||i).touchedFields,t)}),E=(t,e,s)=>{const n=(rs(r,t,{_f:{}})._f||{}).ref,a=rs(i.errors,t)||{},{ref:o,message:u,type:l,...c}=a;as(i.errors,t,{...c,...e,ref:n}),d.state.next({name:t,errors:i.errors,isValid:!1}),s&&s.shouldFocus&&n&&n.focus&&n.focus()},R=t=>d.state.subscribe({next:e=>{var s,r,o;s=t.name,r=e.name,o=t.exact,s&&r&&s!==r&&!As(s).some(t=>t&&(o?t===r:t.startsWith(r)||r.startsWith(t)))||!((t,e,s,i)=>{s(t);const{name:r,...n}=t;return Ms(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(t=>e[t]===(!i||fs))})(e,t.formState||c,Q,t.reRenderRoot)||t.callback({values:{...a},...i,...e,defaultValues:n})}}).unsubscribe,V=(t,e={})=>{for(const o of t?As(t):u.mount)u.mount.delete(o),u.array.delete(o),e.keepValue||(Ts(r,o),Ts(a,o)),!e.keepError&&Ts(i.errors,o),!e.keepDirty&&Ts(i.dirtyFields,o),!e.keepTouched&&Ts(i.touchedFields,o),!e.keepIsValidating&&Ts(i.validatingFields,o),!s.shouldUnregister&&!e.keepDefaultValue&&Ts(n,o);d.state.next({values:Ze(a)}),d.state.next({...i,...e.keepDirty?{isDirty:O()}:{}}),!e.keepIsValid&&p()},P=({disabled:t,name:e})=>{(ns(t)&&o.mount||t||u.disabled.has(e))&&(t?u.disabled.add(e):u.disabled.delete(e))},q=(t,e={})=>{let i=rs(r,t);const a=ns(e.disabled)||ns(s.disabled);return as(r,t,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:t}},name:t,mount:!0,...e}}),u.mount.add(t),i?P({disabled:ns(e.disabled)?e.disabled:s.disabled,name:t}):m(t,!0,e.value),{...a?{disabled:e.disabled||s.disabled}:{},...s.progressive?{required:!!e.required,min:$s(e.min),max:$s(e.max),minLength:$s(e.minLength),maxLength:$s(e.maxLength),pattern:$s(e.pattern)}:{},name:t,onChange:A,onBlur:A,ref:a=>{if(a){q(t,e),i=rs(r,t);const s=es(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,o=(t=>Ps(t)||Ge(t))(s),u=i._f.refs||[];if(o?u.find(t=>t===s):s===i._f.ref)return;as(r,t,{_f:{...i._f,...o?{refs:[...u.filter(qs),s,...Array.isArray(rs(n,t))?[{}]:[]],ref:{type:s.type,name:t}}:{ref:s}}}),m(t,!1,void 0,s)}else i=rs(r,t,{}),i._f&&(i._f.mount=!1),(s.shouldUnregister||e.shouldUnregister)&&(!((t,e)=>t.has((t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t)(e)))(u.array,t)||!o.action)&&u.unMount.add(t)}}},T=()=>s.shouldFocusError&&Zs(r,x,u.mount),W=(t,e)=>async n=>{let o;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let l=Ze(a);if(d.state.next({isSubmitting:!0}),s.resolver){const{errors:t,values:e}=await b();i.errors=t,l=Ze(e)}else await w(r);if(u.disabled.size)for(const t of u.disabled)Ts(l,t);if(Ts(i.errors,"root"),Ms(i.errors)){d.state.next({errors:{}});try{await t(l,n)}catch(c){o=c}}else e&&await e({...i.errors},n),T(),setTimeout(T);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ms(i.errors)&&!o,submitCount:i.submitCount+1,errors:i.errors}),o)throw o},j=(t,e={})=>{const l=t?Ze(t):n,h=Ze(l),f=Ms(t),p=f?n:h;if(e.keepDefaultValues||(n=l),!e.keepValues){if(e.keepDirtyValues){const t=new Set([...u.mount,...Object.keys(Us(n,a))]);for(const e of Array.from(t))rs(i.dirtyFields,e)?as(p,e,rs(a,e)):_(e,rs(p,e))}else{if(Xe&&es(t))for(const t of u.mount){const e=rs(r,t);if(e&&e._f){const t=Array.isArray(e._f.refs)?e._f.refs[0]:e._f.ref;if(Rs(t)){const e=t.closest("form");if(e){e.reset();break}}}}if(e.keepFieldsRef)for(const t of u.mount)_(t,rs(p,t));else r={}}a=s.shouldUnregister?e.keepDefaultValues?Ze(n):{}:Ze(p),d.array.next({values:{...p}}),d.state.next({values:{...p}})}u={mount:e.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!e.keepIsValid||!!e.keepDirtyValues,o.watch=!!s.shouldUnregister,d.state.next({submitCount:e.keepSubmitCount?i.submitCount:0,isDirty:!f&&(e.keepDirty?i.isDirty:!(!e.keepDefaultValues||Fs(t,n))),isSubmitted:!!e.keepIsSubmitted&&i.isSubmitted,dirtyFields:f?{}:e.keepDirtyValues?e.keepDefaultValues&&a?Us(n,a):i.dirtyFields:e.keepDefaultValues&&t?Us(n,t):e.keepDirty?i.dirtyFields:{},touchedFields:e.keepTouched?i.touchedFields:{},errors:e.keepErrors?i.errors:{},isSubmitSuccessful:!!e.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1,defaultValues:n})},U=(t,e)=>j(Es(t)?t(a):t,e),Q=t=>{i={...i,...t}},L={control:{register:q,unregister:V,getFieldState:C,handleSubmit:W,setError:E,_subscribe:R,_runSchema:b,_focusError:T,_getWatch:S,_getDirty:O,_setValid:p,_setFieldArray:(t,e=[],u,l,f=!0,p=!0)=>{if(l&&u&&!s.disabled){if(o.action=!0,p&&Array.isArray(rs(r,t))){const e=u(rs(r,t),l.argA,l.argB);f&&as(r,t,e)}if(p&&Array.isArray(rs(i.errors,t))){const e=u(rs(i.errors,t),l.argA,l.argB);f&&as(i.errors,t,e),((t,e)=>{!ss(rs(t,e)).length&&Ts(t,e)})(i.errors,t)}if((c.touchedFields||h.touchedFields)&&p&&Array.isArray(rs(i.touchedFields,t))){const e=u(rs(i.touchedFields,t),l.argA,l.argB);f&&as(i.touchedFields,t,e)}(c.dirtyFields||h.dirtyFields)&&(i.dirtyFields=Us(n,a)),d.state.next({name:t,isDirty:O(t,e),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else as(a,t,e)},_setDisabledField:P,_setErrors:t=>{i.errors=t,d.state.next({errors:i.errors,isValid:!1})},_getFieldArray:t=>ss(rs(o.mount?a:n,t,s.shouldUnregister?rs(n,t,[]):[])),_reset:j,_resetDefaultValues:()=>Es(s.defaultValues)&&s.defaultValues().then(t=>{U(t,s.resetOptions),d.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const t of u.unMount){const e=rs(r,t);e&&(e._f.refs?e._f.refs.every(t=>!qs(t)):!qs(e._f.ref))&&V(t)}u.unMount=new Set},_disableForm:t=>{ns(t)&&(d.state.next({disabled:t}),Zs(r,(e,s)=>{const i=rs(r,s);i&&(e.disabled=i._f.disabled||t,Array.isArray(i._f.refs)&&i._f.refs.forEach(e=>{e.disabled=i._f.disabled||t}))},0,!1))},_subjects:d,_proxyFormState:c,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(t){o=t},get _defaultValues(){return n},get _names(){return u},set _names(t){u=t},get _formState(){return i},get _options(){return s},set _options(t){s={...s,...t}}},subscribe:t=>(o.mount=!0,h={...h,...t.formState},R({...t,formState:h})),trigger:D,register:q,handleSubmit:W,watch:(t,e)=>Es(t)?d.state.subscribe({next:s=>"values"in s&&t(S(void 0,e),s)}):S(t,e,!0),setValue:_,getValues:M,reset:U,resetField:(t,e={})=>{rs(r,t)&&(es(e.defaultValue)?_(t,Ze(rs(n,t))):(_(t,e.defaultValue),as(n,t,Ze(e.defaultValue))),e.keepTouched||Ts(i.touchedFields,t),e.keepDirty||(Ts(i.dirtyFields,t),i.isDirty=e.defaultValue?O(t,Ze(rs(n,t))):O()),e.keepError||(Ts(i.errors,t),c.isValid&&p()),d.state.next({...i}))},clearErrors:t=>{t&&As(t).forEach(t=>Ts(i.errors,t)),d.state.next({errors:t?i.errors:{}})},unregister:V,setError:E,setFocus:(t,e={})=>{const s=rs(r,t),i=s&&s._f;if(i){const t=i.refs?i.refs[0]:i.ref;t.focus&&(t.focus(),e.shouldSelect&&Es(t.select)&&t.select())}},getFieldState:C};return{...L,formControl:L}}function oi(t={}){const e=Rt.useRef(void 0),s=Rt.useRef(void 0),[i,r]=Rt.useState({isDirty:!1,isValidating:!1,isLoading:Es(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Es(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Es(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...r}=ai(t);e.current={...r,formState:i}}const n=e.current.control;return n._options=t,Os(()=>{const t=n._subscribe({formState:n._proxyFormState,callback:()=>r({...n._formState}),reRenderRoot:!0});return r(t=>({...t,isReady:!0})),n._formState.isReady=!0,t},[n]),Rt.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),Rt.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),Rt.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),Rt.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),Rt.useEffect(()=>{if(n._proxyFormState.isDirty){const t=n._getDirty();t!==i.isDirty&&n._subjects.state.next({isDirty:t})}},[n,i.isDirty]),Rt.useEffect(()=>{t.values&&!Fs(t.values,s.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),s.current=t.values,r(t=>({...t}))):n._resetDefaultValues()},[n,t.values]),Rt.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),e.current.formState=((t,e,s,i=!0)=>{const r={defaultValues:e._defaultValues};for(const n in t)Object.defineProperty(r,n,{get:()=>{const r=n;return e._proxyFormState[r]!==fs&&(e._proxyFormState[r]=!i||fs),s&&(s[r]=!0),t[r]}});return r})(i,n),e.current}export{Ue as Q,Le as a,oi as b,It as j,Be as u};
